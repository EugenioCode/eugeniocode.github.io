<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
  <head>
    <meta charset="utf-8">
    
    <title>ã€Nest.jsã€‘é…ç½® | æ˜ŸãŒéš ã‚Œ</title>
    <meta name="description" content="githubå¼€æºä½œå“ï¼Œå¼€æºå°ç¨‹åºä½œå“ï¼ŒvueJSé¡¹ç›®ä½œå“ï¼Œvue3+ts+viteæ„å»ºé¡¹ç›®æ•™å­¦">
    <meta name="generator" content="VitePress v1.0.0-rc.45">
    <link rel="preload stylesheet" href="/assets/style.Bm7HHgZp.css" as="style">
    
    <script type="module" src="/assets/app.mis7p15u.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Bu8hRsVA.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.CrgyXN2f.js">
    <link rel="modulepreload" href="/assets/chunks/theme.DE2x0OFk.js">
    <link rel="modulepreload" href="/assets/posts_2024_04_nestjs-config.md.CtsM8Lnv.lean.js">
    <link rel="icon" href="/favicon.ico">
    <link rel="icon" href="/logo.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/logo.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta property="og:image" content="/logo.png">
    <meta name="referrer" content="no-referrer">
    <script>var _hmt=_hmt||[];(function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?bf9f13ec72376c75ea9d913408ebc20d";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})();</script>
    <link rel="stylesheet" href="/static/css/fancybox.css">
    <script src="/static/js/fancybox.umd.js"></script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <script>import("/pagefind/pagefind.js").then(i=>{window.__pagefind__=i,i.init()}).catch(()=>{});</script>
  </head>
  <body><!--v-if--><!--teleport anchor-->
    <div id="app"><div class="Layout" data-v-691703e2 data-v-ad552957><!--[--><!----><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-ad552957 data-v-ae24b3ad><div class="VPNavBar has-sidebar" data-v-ae24b3ad data-v-19c990f1><div class="wrapper" data-v-19c990f1><div class="container" data-v-19c990f1><div class="title" data-v-19c990f1><div class="VPNavBarTitle has-sidebar" data-v-19c990f1 data-v-ab179fa1><a class="title" href="/" data-v-ab179fa1><!--[--><!--]--><!--[--><!--[--><!--[--><img class="VPImage dark logo" src="/logo.png" alt data-v-8426fc1a><!--]--><!--[--><img class="VPImage light logo" src="/logo.png" alt data-v-8426fc1a><!--]--><!--]--><!--]--><span data-v-ab179fa1>æ˜ŸãŒéš ã‚Œ</span><!--[--><!--]--></a></div></div><div class="content" data-v-19c990f1><div class="content-body" data-v-19c990f1><!--[--><!--[--><!--[--><!----><!--]--><!--]--><!--]--><div class="blog-search search" data-pagefind-ignore="all" data-v-19c990f1 style="--70fb8e4f:1;" data-v-7d7f13d9><div class="nav-search-btn-wait" data-v-7d7f13d9><svg width="14" height="14" viewBox="0 0 20 20" data-v-7d7f13d9><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" data-v-7d7f13d9></path></svg><span class="search-tip" data-v-7d7f13d9>æœç´¢æ–‡æ¡£</span><span class="metaKey" data-v-7d7f13d9> K </span></div><!--teleport start--><!--teleport end--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-19c990f1 data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-19c990f1 data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-e6aabb21 data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-19c990f1 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/EugenioCode" aria-label target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12.001 2C6.47598 2 2.00098 6.475 2.00098 12C2.00098 16.425 4.86348 20.1625 8.83848 21.4875C9.33848 21.575 9.52598 21.275 9.52598 21.0125C9.52598 20.775 9.51348 19.9875 9.51348 19.15C7.00098 19.6125 6.35098 18.5375 6.15098 17.975C6.03848 17.6875 5.55098 16.8 5.12598 16.5625C4.77598 16.375 4.27598 15.9125 5.11348 15.9C5.90098 15.8875 6.46348 16.625 6.65098 16.925C7.55098 18.4375 8.98848 18.0125 9.56348 17.75C9.65098 17.1 9.91348 16.6625 10.201 16.4125C7.97598 16.1625 5.65098 15.3 5.65098 11.475C5.65098 10.3875 6.03848 9.4875 6.67598 8.7875C6.57598 8.5375 6.22598 7.5125 6.77598 6.1375C6.77598 6.1375 7.61348 5.875 9.52598 7.1625C10.326 6.9375 11.176 6.825 12.026 6.825C12.876 6.825 13.726 6.9375 14.526 7.1625C16.4385 5.8625 17.276 6.1375 17.276 6.1375C17.826 7.5125 17.476 8.5375 17.376 8.7875C18.0135 9.4875 18.401 10.375 18.401 11.475C18.401 15.3125 16.0635 16.1625 13.8385 16.4125C14.201 16.725 14.5135 17.325 14.5135 18.2625C14.5135 19.6 14.501 20.675 14.501 21.0125C14.501 21.275 14.6885 21.5875 15.1885 21.4875C19.259 20.1133 21.9999 16.2963 22.001 12C22.001 6.475 17.526 2 12.001 2Z"></path></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-19c990f1 data-v-d0bd9dde data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-d0bd9dde><div class="item appearance" data-v-d0bd9dde><p class="label" data-v-d0bd9dde>æš—é»‘åˆ‡æ¢</p><div class="appearance-action" data-v-d0bd9dde><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-d0bd9dde data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d0bd9dde><div class="item social-links" data-v-d0bd9dde><div class="VPSocialLinks social-links-list" data-v-d0bd9dde data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/EugenioCode" aria-label target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12.001 2C6.47598 2 2.00098 6.475 2.00098 12C2.00098 16.425 4.86348 20.1625 8.83848 21.4875C9.33848 21.575 9.52598 21.275 9.52598 21.0125C9.52598 20.775 9.51348 19.9875 9.51348 19.15C7.00098 19.6125 6.35098 18.5375 6.15098 17.975C6.03848 17.6875 5.55098 16.8 5.12598 16.5625C4.77598 16.375 4.27598 15.9125 5.11348 15.9C5.90098 15.8875 6.46348 16.625 6.65098 16.925C7.55098 18.4375 8.98848 18.0125 9.56348 17.75C9.65098 17.1 9.91348 16.6625 10.201 16.4125C7.97598 16.1625 5.65098 15.3 5.65098 11.475C5.65098 10.3875 6.03848 9.4875 6.67598 8.7875C6.57598 8.5375 6.22598 7.5125 6.77598 6.1375C6.77598 6.1375 7.61348 5.875 9.52598 7.1625C10.326 6.9375 11.176 6.825 12.026 6.825C12.876 6.825 13.726 6.9375 14.526 7.1625C16.4385 5.8625 17.276 6.1375 17.276 6.1375C17.826 7.5125 17.476 8.5375 17.376 8.7875C18.0135 9.4875 18.401 10.375 18.401 11.475C18.401 15.3125 16.0635 16.1625 13.8385 16.4125C14.201 16.725 14.5135 17.325 14.5135 18.2625C14.5135 19.6 14.501 20.675 14.501 21.0125C14.501 21.275 14.6885 21.5875 15.1885 21.4875C19.259 20.1133 21.9999 16.2963 22.001 12C22.001 6.475 17.526 2 12.001 2Z"></path></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-19c990f1 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-19c990f1><div class="divider-line" data-v-19c990f1></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-ad552957 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>èœå•</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-d2ecc192><button data-v-d2ecc192>è¿”å›é¡¶éƒ¨</button><!----></div></div></div><aside class="VPSidebar" data-v-ad552957 data-v-575e6a36><div class="curtain" data-v-575e6a36></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-575e6a36><span class="visually-hidden" id="sidebar-aria-label" data-v-575e6a36> Sidebar Navigation </span><!--[--><!--[--><!----><div class="fireworkwrap" data-v-691703e2><!----></div><!--]--><!--]--><!--[--><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0" data-v-575e6a36 data-v-93e7e794><!----><div class="items" data-v-93e7e794><!--[--><div class="VPSidebarItem level-1" data-v-93e7e794 data-v-93e7e794><!----><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-pagefind-body data-v-ad552957 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--[--><!--[--><!----><!--]--><!--]--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-3f215769 data-v-935f8a84><div class="content" data-v-935f8a84><div class="outline-marker" data-v-935f8a84></div><div class="outline-title" role="heading" aria-level="2" data-v-935f8a84>ç›®å½•</div><nav aria-labelledby="doc-outline-aria-label" data-v-935f8a84><span class="visually-hidden" id="doc-outline-aria-label" data-v-935f8a84> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-935f8a84 data-v-b933a997><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--[--><!--[--><!--[--><!----><!----><!--]--><!--]--><!--]--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--[--><!--[--><!----><div class="articlebread" data-v-691703e2 data-v-be973f72><a class="a" href="/" data-v-be973f72>é¦–é¡µ</a><span class="divider" data-v-be973f72>/</span><span class="cats" data-v-be973f72><!--[--><a class="a cat" href="/?category=Nest.js" data-v-be973f72>Nest.js</a><!--]--></span><span class="divider" data-v-be973f72>/</span><span class="text" data-v-be973f72>æœ¬æ–‡å†…å®¹</span></div><div class="articlemeta grid" data-v-691703e2 data-v-f7ae15ff><h1 class="h1" data-v-f7ae15ff>ã€Nest.jsã€‘é…ç½®</h1><div class="meta" data-v-f7ae15ff><p class="date" data-v-f7ae15ff><svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" data-v-f7ae15ff><path d="M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM13 12H17V14H11V7H13V12Z" data-v-f7ae15ff></path></svg><time class="time" datetime="1 ä¸ªæœˆå‰" data-v-f7ae15ff>1 ä¸ªæœˆå‰</time></p><div class="tags" data-v-f7ae15ff><!--[--><span class="tag" data-v-f7ae15ff><a class="a" href="/?tag=nodejs" data-v-f7ae15ff>#nodejs</a></span><span class="tag" data-v-f7ae15ff><a class="a" href="/?tag=nestjs" data-v-f7ae15ff>#nestjs</a></span><!--]--></div></div><p class="readtime" data-v-f7ae15ff><span class="warning" data-v-f7ae15ff>å…¨æ–‡å…±0å­—ï¼Œé¢„è®¡é˜…è¯»0åˆ†é’Ÿ</span></p></div><!--]--><!--]--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _posts_2024_04_nestjs-config" data-v-39a288b8><div><h2 id="nodejså¤šç¯å¢ƒé…ç½®æ¯”è¾ƒ" tabindex="-1">Nodejså¤šç¯å¢ƒé…ç½®æ¯”è¾ƒ <a class="header-anchor" href="#nodejså¤šç¯å¢ƒé…ç½®æ¯”è¾ƒ" aria-label="Permalink to &quot;Nodejså¤šç¯å¢ƒé…ç½®æ¯”è¾ƒ&quot;">â€‹</a></h2><h3 id="dotenv" tabindex="-1"><code>dotenv</code> <a class="header-anchor" href="#dotenv" aria-label="Permalink to &quot;`dotenv`&quot;">â€‹</a></h3><ul><li><p>ä»“åº“åœ°å€ï¼š <a href="https://www.npmjs.com/package/dotenv" target="_blank" rel="noreferrer">dotenvä»“åº“</a></p></li><li><p>å®‰è£…ï¼š<code>npm install dotenv --save</code></p></li><li><p>ä½¿ç”¨ï¼š</p><p>åˆ›å»º<code>.env</code>æ–‡ä»¶</p><div class="language-.env vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">.env</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>S3_BUCKET=&quot;YOURS3BUCKET&quot;</span></span>
<span class="line"><span>SECRET_KEY=&quot;YOURSECRETKEYGOESHERE&quot;</span></span></code></pre></div><p>è·å–<code>.env</code>é…ç½®</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dotenv&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(process.env)</span></span></code></pre></div><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dotenv </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;dotenv&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dotenv.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div></li></ul><blockquote><p>ä¼˜ç‚¹ï¼š</p></blockquote><ol><li>ç®€åŒ–ç¯å¢ƒå˜é‡ç®¡ç†ï¼š dotenv ç®€åŒ–äº†ç¯å¢ƒå˜é‡çš„ç®¡ç†è¿‡ç¨‹ã€‚é€šè¿‡å°†ç¯å¢ƒå˜é‡å­˜å‚¨åœ¨ .env æ–‡ä»¶ä¸­ï¼Œä½ å¯ä»¥åœ¨ä¸€ä¸ªåœ°æ–¹ç®¡ç†æ‰€æœ‰çš„ç¯å¢ƒå˜é‡ã€‚</li><li>ä¸ä¸åŒç¯å¢ƒå…¼å®¹ï¼š dotenv å¯ä»¥æ ¹æ®å½“å‰ç¯å¢ƒåŠ è½½ä¸åŒçš„ç¯å¢ƒå˜é‡ï¼Œæ¯”å¦‚å¼€å‘ã€æµ‹è¯•å’Œç”Ÿäº§ç¯å¢ƒï¼Œä½¿å¾—åœ¨ä¸åŒç¯å¢ƒä¸­ä½¿ç”¨ä¸åŒçš„é…ç½®å˜å¾—æ›´åŠ å®¹æ˜“ã€‚</li><li>å®‰å…¨æ€§ï¼š ä½¿ç”¨ dotenv å°†æ•æ„Ÿä¿¡æ¯ï¼ˆæ¯”å¦‚ API å¯†é’¥ã€å¯†ç ç­‰ï¼‰å­˜å‚¨åœ¨ç¯å¢ƒå˜é‡ä¸­ï¼Œè€Œä¸æ˜¯ç›´æ¥ç¡¬ç¼–ç åœ¨ä»£ç ä¸­ï¼Œè¿™æœ‰åŠ©äºæé«˜åº”ç”¨ç¨‹åºçš„å®‰å…¨æ€§ã€‚</li><li>æ˜“äºé›†æˆï¼š dotenv å¯ä»¥è½»æ¾åœ°é›†æˆåˆ°ç°æœ‰çš„ Node.js é¡¹ç›®ä¸­ï¼Œå¹¶ä¸”ä¸éœ€è¦ä¿®æ”¹ç°æœ‰ä»£ç ã€‚</li></ol><blockquote><p>ç¼ºç‚¹ï¼š</p></blockquote><ol><li>æ½œåœ¨çš„å®‰å…¨é£é™©ï¼š å°†æ•æ„Ÿä¿¡æ¯å­˜å‚¨åœ¨ .env æ–‡ä»¶ä¸­å¯èƒ½å­˜åœ¨ä¸€å®šçš„å®‰å…¨é£é™©ï¼Œç‰¹åˆ«æ˜¯åœ¨å›¢é˜Ÿåˆä½œæˆ–è€…ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸­å…±äº«ä»£ç æ—¶ï¼Œéœ€è¦æ³¨æ„ç¡®ä¿ .env æ–‡ä»¶çš„å®‰å…¨æ€§ã€‚</li><li>ä¸é€‚åˆæ‰€æœ‰æƒ…å†µï¼š å¯¹äºä¸€äº›ç‰¹æ®Šçš„æƒ…å†µï¼Œæ¯”å¦‚ä½¿ç”¨äº‘æœåŠ¡æä¾›å•†çš„ç¯å¢ƒå˜é‡ç®¡ç†å·¥å…·ï¼Œdotenv å¯èƒ½å¹¶ä¸æ˜¯æœ€ä½³é€‰æ‹©ã€‚</li><li>å¯èƒ½å¯¼è‡´ç¯å¢ƒä¾èµ–æ€§ï¼š ä½¿ç”¨ dotenv å¯èƒ½ä¼šå¯¼è‡´åº”ç”¨ç¨‹åºå¯¹ç¯å¢ƒå˜é‡çš„ä¾èµ–æ€§å¢åŠ ï¼Œä½¿å¾—åœ¨ä¸åŒç¯å¢ƒä¸­éƒ¨ç½²åº”ç”¨ç¨‹åºå˜å¾—æ›´åŠ å¤æ‚ã€‚</li></ol><h3 id="config" tabindex="-1"><code>config</code> <a class="header-anchor" href="#config" aria-label="Permalink to &quot;`config`&quot;">â€‹</a></h3><ul><li><p>ä»“åº“åœ°å€ï¼š <a href="https://www.npmjs.com/package/config" target="_blank" rel="noreferrer">configä»“åº“</a></p></li><li><p>å®‰è£…ï¼š<code>npm install config --save</code></p></li><li><p>è·å–<code>config</code>çš„é…ç½®</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;config&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dbConfig</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> config.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;db&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div></li></ul><blockquote><p>ä¼˜ç‚¹ï¼š</p></blockquote><ol><li>ç®€åŒ–é…ç½®ç®¡ç†ï¼š config åŒ…ä½¿é…ç½®ç®¡ç†å˜å¾—ç®€å•ï¼Œä½ å¯ä»¥å°†æ‰€æœ‰é…ç½®ä¿¡æ¯é›†ä¸­å­˜å‚¨åœ¨ä¸€ä¸ªåœ°æ–¹ï¼Œå¹¶æ ¹æ®éœ€è¦è½»æ¾è®¿é—®ã€‚</li><li>ç¯å¢ƒé€‚åº”æ€§ï¼š å®ƒå…è®¸ä½ æ ¹æ®ç¯å¢ƒå˜é‡æˆ–å…¶ä»–æ¡ä»¶è‡ªåŠ¨åŠ è½½é€‚å½“çš„é…ç½®æ–‡ä»¶ï¼Œä»è€Œä½¿ä½ å¯ä»¥åœ¨ä¸åŒçš„ç¯å¢ƒä¸­ä½¿ç”¨ä¸åŒçš„é…ç½®ã€‚ çµæ´»æ€§ï¼š config åŒ…æä¾›äº†è®¸å¤šçµæ´»çš„åŠŸèƒ½ï¼Œæ¯”å¦‚åˆå¹¶å¤šä¸ªé…ç½®æ–‡ä»¶ã€è®¾ç½®é»˜è®¤å€¼ã€åŠ¨æ€ä¿®æ”¹é…ç½®ç­‰ï¼Œä½¿å¾—é…ç½®ç®¡ç†æ›´åŠ çµæ´»ã€‚</li><li>æ”¯æŒå¤šç§æ ¼å¼ï¼š å®ƒæ”¯æŒå¤šç§é…ç½®æ–‡ä»¶æ ¼å¼ï¼ŒåŒ…æ‹¬ JSONã€YAMLã€INI å’Œ JavaScriptï¼Œè®©ä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½é€‰æ‹©é…ç½®æ–‡ä»¶æ ¼å¼ã€‚</li></ol><blockquote><p>ç¼ºç‚¹ï¼š</p></blockquote><ol><li>ä¾èµ–æ€§ï¼š ä½¿ç”¨ config åŒ…æ„å‘³ç€ä½ çš„é¡¹ç›®ä¼šä¾èµ–äºè¿™ä¸ªåŒ…ï¼Œå¦‚æœè¿™ä¸ªåŒ…æœ‰æ›´æ–°æˆ–è€…å‡ºç°äº†é—®é¢˜ï¼Œå¯èƒ½ä¼šå½±å“åˆ°ä½ çš„é¡¹ç›®ã€‚</li><li>å¯èƒ½å¼•å…¥å¤æ‚æ€§ï¼š å¯¹äºå°å‹é¡¹ç›®æ¥è¯´ï¼Œconfig åŒ…å¯èƒ½ä¼šå¼•å…¥ä¸å¿…è¦çš„å¤æ‚æ€§ï¼Œå› ä¸ºå®ƒæä¾›äº†è®¸å¤šé«˜çº§åŠŸèƒ½ï¼Œè€Œè¿™äº›åŠŸèƒ½å¯¹äºç®€å•çš„é¡¹ç›®æ¥è¯´å¯èƒ½å¹¶ä¸éœ€è¦ã€‚</li><li>é…ç½®æ–‡ä»¶å¢åŠ ç»´æŠ¤æˆæœ¬ï¼š å°½ç®¡å°†é…ç½®ä¿¡æ¯é›†ä¸­å­˜å‚¨åœ¨ä¸€ä¸ªåœ°æ–¹å¯ä»¥ç®€åŒ–é…ç½®ç®¡ç†ï¼Œä½†ä¹Ÿä¼šå¢åŠ ç»´æŠ¤é…ç½®æ–‡ä»¶çš„æˆæœ¬ï¼Œç‰¹åˆ«æ˜¯åœ¨é¡¹ç›®è§„æ¨¡å¢å¤§æˆ–è€…é…ç½®æ–‡ä»¶æ ¼å¼å¤æ‚çš„æƒ…å†µä¸‹ã€‚</li></ol><h2 id="nestjsæ¨è-nestjs-config" tabindex="-1">Nestjsæ¨è<code>@nestjs/config</code> <a class="header-anchor" href="#nestjsæ¨è-nestjs-config" aria-label="Permalink to &quot;Nestjsæ¨è`@nestjs/config`&quot;">â€‹</a></h2><h3 id="æœ€ç®€å•çš„ç”¨æ³•" tabindex="-1">æœ€ç®€å•çš„ç”¨æ³• <a class="header-anchor" href="#æœ€ç®€å•çš„ç”¨æ³•" aria-label="Permalink to &quot;æœ€ç®€å•çš„ç”¨æ³•&quot;">â€‹</a></h3><ul><li><p>å®‰è£…<code>@nest/config</code></p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @nest/config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --save</span></span></code></pre></div></li><li><p>é…ç½®<code>src/app.module.ts</code></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Module } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@nestjs/common&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { AppController } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./app.controller&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { AppService } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./app.service&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ConfigModule } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@nestjs/config&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  imports: [ConfigModule.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forRoot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  controllers: [AppController],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  providers: [AppService]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AppModule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}</span></span></code></pre></div></li><li><p>åˆ›å»º<code>.env</code>æ–‡ä»¶</p><div class="language-.env vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">.env</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>DATABASE_USER=test</span></span>
<span class="line"><span>DATABASE_PASSWORD=test123</span></span></code></pre></div></li><li><p>åœ¨<code>src/app.controller.ts</code>ä¸­ä½¿ç”¨</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Controller, Get } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@nestjs/common&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ConfigService } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@nestjs/config&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { AppService } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./app.service&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Controller</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AppController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> appService</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AppService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> configService</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ConfigService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ) {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  getHello</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dbUser</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.configService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;DATABASE_USER&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dbUser);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.appService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getHello</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ul><h3 id="è¿›é˜¶ç”¨æ³•" tabindex="-1">è¿›é˜¶ç”¨æ³• <a class="header-anchor" href="#è¿›é˜¶ç”¨æ³•" aria-label="Permalink to &quot;è¿›é˜¶ç”¨æ³•&quot;">â€‹</a></h3><p><img src="https://static.www.toimc.com/blog/picgo/2022/10/21/200-84b8b3.webp" alt="img" data-fancybox="gallery"><code>ConfigModuleOptions</code>æ”¯æŒçš„å‚æ•°å¦‚ä¸‹ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ConfigModuleOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    cache</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    isGlobal</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    ignoreEnvFile</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    ignoreEnvVars</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    envFilePath</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[];</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    encoding</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    validate</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Record</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Record</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    validationSchema</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    validationOptions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Record</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    load</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ConfigFactory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    expandVariables</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="åŒºåˆ†ä¸åŒçš„ç¯å¢ƒ" tabindex="-1">åŒºåˆ†ä¸åŒçš„ç¯å¢ƒ <a class="header-anchor" href="#åŒºåˆ†ä¸åŒçš„ç¯å¢ƒ" aria-label="Permalink to &quot;åŒºåˆ†ä¸åŒçš„ç¯å¢ƒ&quot;">â€‹</a></h4><ul><li><p>åˆ©ç”¨<code>envFilePath</code>é…åˆ<code>NODE_ENV</code>æ¥é…ç½®ä¸åŒå¯åŠ¨å‘½ä»¤ä½¿ç”¨ä¸åŒçš„é…ç½®</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cross-env</span></span></code></pre></div></li><li><p>æ·»åŠ ä¸¤ä¸ªæ–‡ä»¶<code>.env.development</code>å’Œ<code>.env.production</code></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DB</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">mysql-dev</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DB_HOST</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">127.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.0.1</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DB</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">mysql-prod</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DB_HOST</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">127.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.0.1</span></span></code></pre></div></li><li><p>ä¿®æ”¹<code>package.json</code>ä¸­çš„å¯åŠ¨å‘½ä»¤</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;start:dev&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;cross-env NODE_ENV=development nest start --watch&quot;,</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;start:prod&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;cross-env NODE_ENV=production node dist/main&quot;,</span></span></code></pre></div></li><li><p>åœ¨<code>app.module.ts</code>ä¸­è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œé»˜è®¤æ˜¯<code>development</code>ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> envPath</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `.env.${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">process</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;development&#39;}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ğŸš€ ~ file: app.module.ts ~ envPath&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, envPath);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  imports: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ConfigModule.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forRoot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      envFilePath: envPath,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  controllers: [AppController],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  providers: [AppService],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AppModule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}</span></span></code></pre></div></li></ul><h4 id="è¯»å–å…¬å…±é…ç½®" tabindex="-1">è¯»å–å…¬å…±é…ç½® <a class="header-anchor" href="#è¯»å–å…¬å…±é…ç½®" aria-label="Permalink to &quot;è¯»å–å…¬å…±é…ç½®&quot;">â€‹</a></h4><blockquote><p>å¦‚æœéœ€è¦è¯»å–å…¬å…±çš„<code>.env</code>æ–‡ä»¶ï¼Œåˆ™éœ€è¦ä½¿ç”¨åˆ°<code>ConfigModule.forRoot</code>çš„<code>load</code>æ–¹æ³•</p></blockquote><ul><li><p>å®‰è£…<code>pnpm i dotenv</code>ä¾èµ–</p></li><li><p>ä¿®æ”¹<code>app.module.ts</code></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Module } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@nestjs/common&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { UserModule } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./user/user.module&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ConfigModule } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@nestjs/config&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dotenv </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;dotenv&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> envFilePath</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `.env.${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">process</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `development`}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  imports: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ConfigModule.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forRoot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      isGlobal: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      envFilePath,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // è¿™é‡Œæ–°å¢.envçš„æ–‡ä»¶è§£æ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      load: [() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dotenv.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;.env&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    UserModule,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  controllers: [],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  providers: [],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AppModule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}</span></span></code></pre></div></li><li><p>é…ç½®<code>.env</code>æ–‡ä»¶</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DB</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">mysql</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DB_HOST</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">127.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.0.1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DB_URL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">www.imooc.com</span></span></code></pre></div></li><li><p>è®¾ç½®æµ‹è¯•ï¼š</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> url</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.configService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;DB_URL&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;ğŸš€ ~ file: user.controller.ts ~ url&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  url,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div></li></ul><h4 id="å…¬å…±é…ç½®æ•°æ®æ ¡éªŒ" tabindex="-1">å…¬å…±é…ç½®æ•°æ®æ ¡éªŒ <a class="header-anchor" href="#å…¬å…±é…ç½®æ•°æ®æ ¡éªŒ" aria-label="Permalink to &quot;å…¬å…±é…ç½®æ•°æ®æ ¡éªŒ&quot;">â€‹</a></h4><blockquote><p>é…ç½®éªŒè¯ï¼Œä¸»è¦æ˜¯æŒ‡åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶ï¼Œå¦‚æœæ²¡æœ‰æä¾›æ‰€éœ€çš„ç¯å¢ƒå˜é‡æˆ–ä¸ç¬¦åˆæŸäº›éªŒè¯è§„åˆ™ï¼Œå°±ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚</p></blockquote><ul><li><p>å®‰è£…ä¾èµ–</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --save</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> joi</span></span></code></pre></div></li><li><p>å®šä¹‰éªŒè¯Schema</p></li></ul><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  imports: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ConfigModule.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forRoot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      isGlobal: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      envFilePath,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      load: [() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dotenv.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;.env&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      validationSchema: Joi.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        NODE_ENV: Joi.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">valid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;development&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;production&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;development&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        DB: Joi.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">required</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        DB_HOST: Joi.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">required</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ip</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        DB_URL: Joi.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">domain</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    UserModule,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  controllers: [AppController],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  providers: [AppService],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-09de1c0f><!--[--><!--[--><!--[--><!--[--><!--[--><section style="letter-spacing:0.544px;text-align:center;opacity:0.5;font-size:12px;margin-bottom:20px;" data-v-f57ef0dd><span data-v-f57ef0dd>- END -</span></section><div class="articlecc" data-v-f57ef0dd><svg class="cc" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" data-v-f57ef0dd><path d="M9 8C10.1045 8 11.1049 8.44836 11.829 9.17297L10.4153 10.5865C10.0533 10.2241 9.55298 10 9 10 7.89502 10 7 10.895 7 12 7 13.105 7.89502 14 9 14 9.55249 14 10.0525 13.7762 10.4144 13.4144L11.828 14.828C11.104 15.552 10.104 16 9 16 6.79199 16 5 14.208 5 12 5 9.79199 6.79199 8 9 8ZM18.829 9.17297C18.1049 8.44836 17.1045 8 16 8 13.792 8 12 9.79199 12 12 12 14.208 13.792 16 16 16 17.104 16 18.104 15.552 18.828 14.828L17.4144 13.4144C17.0525 13.7762 16.5525 14 16 14 14.895 14 14 13.105 14 12 14 10.895 14.895 10 16 10 16.553 10 17.0533 10.2241 17.4153 10.5865L18.829 9.17297ZM2 12C2 6.47717 6.47717 2 12 2 17.5228 2 22 6.47717 22 12 22 17.5228 17.5228 22 12 22 6.47717 22 2 17.5228 2 12ZM12 4C7.58167 4 4 7.58167 4 12 4 16.4183 7.58167 20 12 20 16.4183 20 20 16.4183 20 12 20 7.58167 16.4183 4 12 4Z" fill="currentColor" data-v-f57ef0dd></path></svg><ul class="ul" data-v-f57ef0dd><li class="li" data-v-f57ef0dd><label class="label" data-v-f57ef0dd>ä½œè€…</label><span class="span" data-v-f57ef0dd><a class="a" target="_blank" data-v-f57ef0dd>æ˜ŸãŒéš ã‚Œ</a></span></li><li class="li" data-v-f57ef0dd><label class="label" data-v-f57ef0dd>æ ‡é¢˜</label><span class="span" data-v-f57ef0dd>ã€Nest.jsã€‘é…ç½®</span></li><li class="li" data-v-f57ef0dd><label class="label" data-v-f57ef0dd>æ—¶é—´</label><span class="span" data-v-f57ef0dd>2024-04-01</span></li><li class="li link" data-v-f57ef0dd><label class="label" data-v-f57ef0dd>é“¾æ¥</label><span class="span" data-v-f57ef0dd>posts/2024/04/nestjs-config.md</span></li><!----></ul></div><!--]--><div class="articlerelate" data-v-691703e2 data-v-8a0b0752><h2 class="h2" data-v-8a0b0752>ç›¸å…³æ¨è</h2><div class="grid hassidebar postlist" data-v-8a0b0752><!--[--><div class="list" data-v-8a0b0752><div class="articlelist grid" data-v-8a0b0752 data-v-a5655032><div class="acontent" data-v-a5655032><div class="main" data-v-a5655032><div class="cover" data-v-a5655032><a href="/posts/2024/04/nestjs-log.html" class="a" data-v-a5655032><img class="img bgimg" src="https://oss.bytespace.site/uPic/nestjs.webp" data-v-a5655032></a></div><div class="msg" data-v-a5655032><div class="title" data-v-a5655032><a href="/posts/2024/04/nestjs-log.html" class="a" data-v-a5655032><span class="cats" data-v-a5655032><!--[--><span class="cat" data-v-a5655032>Nest.js</span><!--]--><!----></span> ã€Nest.jsã€‘æ—¥å¿—æ”¶é›†</a></div><div class="desc" data-v-a5655032>undefined</div><div class="meta" data-v-a5655032><!----></div></div></div></div></div></div><div class="list" data-v-8a0b0752><div class="articlelist grid" data-v-8a0b0752 data-v-a5655032><div class="acontent" data-v-a5655032><div class="main" data-v-a5655032><div class="cover" data-v-a5655032><a href="/posts/2024/03/nestjs-database.html" class="a" data-v-a5655032><img class="img bgimg" src="https://oss.bytespace.site/uPic/nestjs.webp" data-v-a5655032></a></div><div class="msg" data-v-a5655032><div class="title" data-v-a5655032><a href="/posts/2024/03/nestjs-database.html" class="a" data-v-a5655032><span class="cats" data-v-a5655032><!--[--><span class="cat" data-v-a5655032>Nest.js</span><!--]--><!----></span> ã€Nest.jsã€‘æ•°æ®åº“</a></div><div class="desc" data-v-a5655032>undefined</div><div class="meta" data-v-a5655032><!----></div></div></div></div></div></div><div class="list" data-v-8a0b0752><div class="articlelist grid" data-v-8a0b0752 data-v-a5655032><div class="acontent" data-v-a5655032><div class="main" data-v-a5655032><div class="cover" data-v-a5655032><a href="/posts/2024/03/nestjs-codingIdeas.html" class="a" data-v-a5655032><img class="img bgimg" src="https://oss.bytespace.site/uPic/nestjs.webp" data-v-a5655032></a></div><div class="msg" data-v-a5655032><div class="title" data-v-a5655032><a href="/posts/2024/03/nestjs-codingIdeas.html" class="a" data-v-a5655032><span class="cats" data-v-a5655032><!--[--><span class="cat" data-v-a5655032>Nest.js</span><!--]--><!----></span> ã€Nest.jsã€‘ç¼–ç¨‹æ€æƒ³</a></div><div class="desc" data-v-a5655032>undefined</div><div class="meta" data-v-a5655032><!----></div></div></div></div></div></div><div class="list" data-v-8a0b0752><div class="articlelist grid" data-v-8a0b0752 data-v-a5655032><div class="acontent" data-v-a5655032><div class="main" data-v-a5655032><div class="cover" data-v-a5655032><a href="/posts/2024/03/nestjs-qrCode.html" class="a" data-v-a5655032><img class="img bgimg" src="https://oss.bytespace.site/uPic/u=3904592825,1598266496&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG.webp" data-v-a5655032></a></div><div class="msg" data-v-a5655032><div class="title" data-v-a5655032><a href="/posts/2024/03/nestjs-qrCode.html" class="a" data-v-a5655032><span class="cats" data-v-a5655032><!--[--><span class="cat" data-v-a5655032>Nest.js</span><!--]--><!----></span> ä¸€æ–‡èŠé€šæ‰«ç ç™»å½•</a></div><div class="desc" data-v-a5655032>undefined</div><div class="meta" data-v-a5655032><!----></div></div></div></div></div></div><!--]--></div></div><!--]--><!--]--><!--]--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--[--><!--[--><!--[--><div class="site-footer"><div class="btmgroup"><div class="msgcard"><div class="copyright" style="font-family:sans-serif;"> Copyright Â© 2022-2024 <a class="title strong" href="https://appbeebee.com/">æ˜ŸãŒéš ã‚Œ</a></div></div></div></div><!----><!--]--><!--]--><!--]--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"pages_tools.md\":\"BnZ9jXBS\",\"posts_2022_03_git.md\":\"CE9lBVFM\",\"posts_2023_11_vite.md\":\"BjjqxDGr\",\"posts_2024_03_nestjs-codingideas.md\":\"5rIMyxhT\",\"pages_post.md\":\"DWqSgO1s\",\"pages_archives.md\":\"Cg_WJR5j\",\"pages_tags.md\":\"n4TzsoNg\",\"pages_links.md\":\"D05nCxpV\",\"posts_2022_04_mac.md\":\"BHlk8meZ\",\"posts_2023_08_codesnippet.md\":\"f3a7Immk\",\"posts_2022_03_mysql.md\":\"DPOxzU5c\",\"index.md\":\"jTOsVDmK\",\"posts_2024_03_nestjs-qrcode.md\":\"MpAoWTAl\",\"posts_2024_03_nestjs-database.md\":\"DAw7eFIn\",\"posts_2022_03_npm.md\":\"DxvSoK4V\",\"posts_2023_08_devtools.md\":\"DLeTLJal\",\"posts_2024_04_nestjs-log.md\":\"CyWr9ZiI\",\"pages_about.md\":\"CYMmCRio\",\"posts_2022_03_html.md\":\"D64Cj-T0\",\"pages_feed.md\":\"CgIjrGdF\",\"posts_2024_04_nestjs-config.md\":\"CtsM8Lnv\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-cn\",\"dir\":\"ltr\",\"title\":\"æ˜ŸãŒéš ã‚Œ\",\"description\":\"githubå¼€æºä½œå“ï¼Œå¼€æºå°ç¨‹åºä½œå“ï¼ŒvueJSé¡¹ç›®ä½œå“ï¼Œvue3+ts+viteæ„å»ºé¡¹ç›®æ•™å­¦\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"beecodeurl\":\"https://www.appbeebee.com/\",\"sidebar\":[{}],\"nav\":[],\"music\":[],\"banner\":[],\"outlineTitle\":\"ç›®å½•\",\"socialLinks\":[{\"icon\":{\"svg\":\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"currentColor\\\"><path d=\\\"M12.001 2C6.47598 2 2.00098 6.475 2.00098 12C2.00098 16.425 4.86348 20.1625 8.83848 21.4875C9.33848 21.575 9.52598 21.275 9.52598 21.0125C9.52598 20.775 9.51348 19.9875 9.51348 19.15C7.00098 19.6125 6.35098 18.5375 6.15098 17.975C6.03848 17.6875 5.55098 16.8 5.12598 16.5625C4.77598 16.375 4.27598 15.9125 5.11348 15.9C5.90098 15.8875 6.46348 16.625 6.65098 16.925C7.55098 18.4375 8.98848 18.0125 9.56348 17.75C9.65098 17.1 9.91348 16.6625 10.201 16.4125C7.97598 16.1625 5.65098 15.3 5.65098 11.475C5.65098 10.3875 6.03848 9.4875 6.67598 8.7875C6.57598 8.5375 6.22598 7.5125 6.77598 6.1375C6.77598 6.1375 7.61348 5.875 9.52598 7.1625C10.326 6.9375 11.176 6.825 12.026 6.825C12.876 6.825 13.726 6.9375 14.526 7.1625C16.4385 5.8625 17.276 6.1375 17.276 6.1375C17.826 7.5125 17.476 8.5375 17.376 8.7875C18.0135 9.4875 18.401 10.375 18.401 11.475C18.401 15.3125 16.0635 16.1625 13.8385 16.4125C14.201 16.725 14.5135 17.325 14.5135 18.2625C14.5135 19.6 14.501 20.675 14.501 21.0125C14.501 21.275 14.6885 21.5875 15.1885 21.4875C19.259 20.1133 21.9999 16.2963 22.001 12C22.001 6.475 17.526 2 12.001 2Z\\\"></path></svg>\"},\"link\":\"https://github.com/EugenioCode\"}],\"docFooter\":{\"prev\":\"ä¸Šä¸€ç¯‡\",\"next\":\"ä¸‹ä¸€ç¯‡\"},\"darkModeSwitchLabel\":\"æš—é»‘åˆ‡æ¢\",\"sidebarMenuLabel\":\"èœå•\",\"returnToTopLabel\":\"è¿”å›é¡¶éƒ¨\",\"article\":{\"cc\":{\"author\":\"æ˜ŸãŒéš ã‚Œ\"}},\"website\":{\"copyadd\":false,\"perpage\":12,\"homeBanner\":true,\"bannerHeight\":200,\"showWelcome\":false,\"welcomeusestate\":false,\"welcome\":{\"autoClose\":6000},\"showSnow\":false,\"showUserCard\":false,\"cardPosition\":3,\"cardMusic\":false,\"cardCoffee\":false,\"coffeeQrcode\":\"https://image.baidu.com/search/down?url=https://fc.sinaimg.cn/large/6364aa43gy1hm0f859sm6j208c08cabm.jpg\",\"showLantern\":false,\"lanternText\":[\"æ–°\",\"å¹´\"],\"showFirework\":false,\"fireworkTitle\":\"ğŸ§¨çƒŸèŠ±è®¸æ„¿ğŸ§¨ï½œâ‘¡â“ªâ‘¡â‘£æ–°å¹´\",\"fireworkWords\":[\"æ­è´ºæ–°ç¦§\",\"ä¸‡äº‹å¦‚æ„\",\"æ–°å¹´å¿«ä¹\",\"æ­å–œå‘è´¢\",\"å²å²å¹³å®‰\",\"å‰ç¥¥å¦‚æ„\",\"å¿ƒæƒ³äº‹æˆ\",\"ä¸‡äº‹é¡ºé‚\",\"ä¸€å¸†é£é¡º\",\"äºŒé¾™è…¾é£\",\"ä¸‰ç¾Šå¼€æ³°\",\"å››å­£å¹³å®‰\",\"äº”ç¦ä¸´é—¨\",\"å…­å…­å¤§é¡º\",\"ä¸ƒæ˜Ÿé«˜ç…§\",\"å…«æ–¹æ¥è´¢\",\"ä¹ä¹åŒå¿ƒ\",\"åå…¨åç¾\",\"è£åå¯Œè´µ\",\"é‡‘ç‰æ»¡å ‚\",\"é¾™å‡¤å‘ˆç¥¥\",\"å–œæ°”æ´‹æ´‹\",\"é¸¿è¿å½“å¤´\",\"è´¢æºå¹¿è¿›\",\"ç¬‘å£å¸¸å¼€\",\"å¹¸ç¦å®‰åº·\",\"æ—¥è¿›æ–—é‡‘\",\"ç”Ÿæ„å…´éš†\",\"æ­¥æ­¥é«˜å‡\",\"å¹´å¹´æœ‰ä½™\",\"è¿æ˜¥æ¥ç¦\",\"å–œæ°”ç›ˆé—¨\",\"èŠ±å›¢é”¦ç°‡\",\"å‰ç¨‹ä¼¼é”¦\",\"ç¦æ»¡äººé—´\",\"æ˜¥å›å¤§åœ°\",\"è¾æ—§è¿æ–°\",\"ä¸‡è±¡æ›´æ–°\",\"å‰ç¥¥å¦‚æ„\",\"ä¸‡äº‹å¤§å‰\",\"é©¬åˆ°æˆåŠŸ\",\"åŠŸæˆåå°±\",\"é±¼è·ƒé¾™é—¨\",\"ä¸€é£å†²å¤©\",\"ç‘æ°”ç›ˆé—¨\",\"ç¦å¯¿åº·å®\",\"æ—¶æ¥è¿è½¬\",\"é¸¿è¿é«˜ç…§\",\"ä¸‰é˜³å¼€æ³°\",\"å¦ææ³°æ¥\",\"é¸¿è¿äº¨é€š\",\"ä¸€å¸†é£é¡º\",\"å‡ºå…¥å¹³å®‰\",\"é¡ºé£é¡ºæ°´\",\"é¾™å‡¤å‘ˆç¥¥\",\"èŠ±å¥½æœˆåœ†\",\"å¼ ç¯ç»“å½©\",\"æ¬¢å¤©å–œåœ°\",\"åˆå®¶æ¬¢ä¹\",\"å¹¸ç¦ç¾æ»¡\",\"å’Œæ°”è‡´ç¥¥\",\"æ‹›è´¢è¿›å®\",\"å¼€é—¨å¤§å‰\",\"è¿æ˜¥æ¥ç¦\",\"ç¦æ³½æ»¡é—¨\",\"èŠ±å¼€å¯Œè´µ\",\"ç«¹æŠ¥å¹³å®‰\",\"å¤§å‰å¤§åˆ©\",\"æ­å–œå‘è´¢\"],\"showFooter\":true,\"icpRecordCode\":\"é„‚ICPå¤‡2022014994å·-1\",\"publicSecurityRecordCode\":\"é„‚å…¬ç½‘å®‰å¤‡42282202000143å·\",\"link\":\"https://appbeebee.com/\"},\"logo\":{\"light\":\"/logo.png\",\"dark\":\"/logo.png\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>